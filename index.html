<html>
    <head>
        <style>
            /* http://meyerweb.com/eric/tools/css/reset/ 
                v2.0 | 20110126
                License: none (public domain)
            */

            html, body, div, span, applet, object, iframe,
            h1, h2, h3, h4, h5, h6, p, blockquote, pre,
            a, abbr, acronym, address, big, cite, code,
            del, dfn, em, img, ins, kbd, q, s, samp,
            small, strike, strong, sub, sup, tt, var,
            b, u, i, center,
            dl, dt, dd, ol, ul, li,
            fieldset, form, label, legend,
            table, caption, tbody, tfoot, thead, tr, th, td,
            article, aside, canvas, details, embed, 
            figure, figcaption, footer, header, hgroup, 
            menu, nav, output, ruby, section, summary,
            time, mark, audio, video {
                margin: 0;
                padding: 0;
                border: 0;
                font-size: 100%;
                font: inherit;
                vertical-align: baseline;
            }
            /* HTML5 display-role reset for older browsers */
            article, aside, details, figcaption, figure, 
            footer, header, hgroup, menu, nav, section {
                display: block;
            }
            body {
                line-height: 1;
            }
            ol, ul {
                list-style: none;
            }
            blockquote, q {
                quotes: none;
            }
            blockquote:before, blockquote:after,
            q:before, q:after {
                content: '';
                content: none;
            }
            table {
                border-collapse: collapse;
                border-spacing: 0;
            }
        </style>
    </head>
    <body>

        <div style="margin: 16px; border-color: black; border-width: 3px; border-style: solid; cursor: pointer;"> 
            <svg width="1172px" height="1232px" viewBox="0 0 1172 1232">

                <!-- BACKGROUND MAP -->
                <path d="M1 0H1773V1232H1V0Z" fill="#FF0000" fill-opacity="0.1"/>
                <path d="M1059.5 819L1717 841V1233H1024L1059.5 819Z" fill="#D9D9D9"/>
                <path d="M1212.84 1065H1202.53V1035.91H1212.93C1215.85 1035.91 1218.37 1036.49 1220.48 1037.66C1222.59 1038.81 1224.22 1040.47 1225.36 1042.64C1226.5 1044.81 1227.07 1047.41 1227.07 1050.43C1227.07 1053.46 1226.5 1056.06 1225.36 1058.24C1224.22 1060.42 1222.59 1062.09 1220.45 1063.25C1218.33 1064.42 1215.8 1065 1212.84 1065ZM1208.68 1059.73H1212.59C1214.4 1059.73 1215.93 1059.41 1217.17 1058.76C1218.42 1058.11 1219.36 1057.1 1219.99 1055.74C1220.62 1054.37 1220.94 1052.59 1220.94 1050.43C1220.94 1048.28 1220.62 1046.52 1219.99 1045.16C1219.36 1043.79 1218.43 1042.79 1217.19 1042.14C1215.95 1041.5 1214.42 1041.18 1212.6 1041.18H1208.68V1059.73ZM1231.63 1065V1035.91H1251.23V1040.98H1237.78V1047.91H1250.22V1052.98H1237.78V1059.93H1251.29V1065H1231.63ZM1256.12 1035.91H1263.71L1271.72 1055.45H1272.06L1280.07 1035.91H1287.66V1065H1281.69V1046.07H1281.45L1273.92 1064.86H1269.86L1262.33 1045.99H1262.09V1065H1256.12V1035.91ZM1319.46 1050.45C1319.46 1053.63 1318.86 1056.33 1317.65 1058.55C1316.46 1060.78 1314.83 1062.48 1312.77 1063.65C1310.71 1064.82 1308.4 1065.4 1305.83 1065.4C1303.25 1065.4 1300.93 1064.81 1298.87 1063.64C1296.82 1062.46 1295.2 1060.76 1294 1058.54C1292.81 1056.31 1292.21 1053.62 1292.21 1050.45C1292.21 1047.28 1292.81 1044.58 1294 1042.36C1295.2 1040.13 1296.82 1038.44 1298.87 1037.27C1300.93 1036.1 1303.25 1035.51 1305.83 1035.51C1308.4 1035.51 1310.71 1036.1 1312.77 1037.27C1314.83 1038.44 1316.46 1040.13 1317.65 1042.36C1318.86 1044.58 1319.46 1047.28 1319.46 1050.45ZM1313.22 1050.45C1313.22 1048.4 1312.91 1046.67 1312.3 1045.26C1311.69 1043.84 1310.83 1042.77 1309.73 1042.05C1308.62 1041.32 1307.32 1040.95 1305.83 1040.95C1304.35 1040.95 1303.05 1041.32 1301.94 1042.05C1300.83 1042.77 1299.97 1043.84 1299.36 1045.26C1298.75 1046.67 1298.45 1048.4 1298.45 1050.45C1298.45 1052.51 1298.75 1054.24 1299.36 1055.65C1299.97 1057.06 1300.83 1058.13 1301.94 1058.86C1303.05 1059.59 1304.35 1059.96 1305.83 1059.96C1307.32 1059.96 1308.62 1059.59 1309.73 1058.86C1310.83 1058.13 1311.69 1057.06 1312.3 1055.65C1312.91 1054.24 1313.22 1052.51 1313.22 1050.45ZM1333.27 1065V1035.91H1344.75C1346.94 1035.91 1348.82 1036.3 1350.37 1037.09C1351.94 1037.86 1353.12 1038.97 1353.94 1040.4C1354.76 1041.82 1355.17 1043.49 1355.17 1045.41C1355.17 1047.34 1354.76 1049.01 1353.92 1050.4C1353.09 1051.78 1351.88 1052.84 1350.3 1053.58C1348.73 1054.32 1346.83 1054.69 1344.59 1054.69H1336.91V1049.74H1343.6C1344.77 1049.74 1345.75 1049.58 1346.52 1049.26C1347.3 1048.94 1347.88 1048.46 1348.26 1047.81C1348.64 1047.17 1348.84 1046.37 1348.84 1045.41C1348.84 1044.45 1348.64 1043.63 1348.26 1042.97C1347.88 1042.31 1347.3 1041.8 1346.51 1041.46C1345.73 1041.11 1344.75 1040.94 1343.57 1040.94H1339.42V1065H1333.27ZM1348.98 1051.76L1356.21 1065H1349.42L1342.35 1051.76H1348.98ZM1365.67 1035.91V1065H1359.52V1035.91H1365.67ZM1381.04 1065H1370.73V1035.91H1381.13C1384.06 1035.91 1386.57 1036.49 1388.69 1037.66C1390.8 1038.81 1392.42 1040.47 1393.56 1042.64C1394.7 1044.81 1395.28 1047.41 1395.28 1050.43C1395.28 1053.46 1394.7 1056.06 1393.56 1058.24C1392.42 1060.42 1390.79 1062.09 1388.66 1063.25C1386.54 1064.42 1384 1065 1381.04 1065ZM1376.88 1059.73H1380.79C1382.61 1059.73 1384.14 1059.41 1385.38 1058.76C1386.63 1058.11 1387.56 1057.1 1388.19 1055.74C1388.82 1054.37 1389.14 1052.59 1389.14 1050.43C1389.14 1048.28 1388.82 1046.52 1388.19 1045.16C1387.56 1043.79 1386.63 1042.79 1385.39 1042.14C1384.15 1041.5 1382.62 1041.18 1380.8 1041.18H1376.88V1059.73ZM1399.83 1065V1035.91H1419.44V1040.98H1405.98V1047.91H1418.43V1052.98H1405.98V1059.93H1419.49V1065H1399.83ZM1438.6 1065H1432.01L1442.05 1035.91H1449.98L1460 1065H1453.41L1446.13 1042.56H1445.9L1438.6 1065ZM1438.19 1053.57H1453.75V1058.37H1438.19V1053.57ZM1463.5 1065V1035.91H1474.98C1477.18 1035.91 1479.05 1036.3 1480.61 1037.09C1482.17 1037.86 1483.36 1038.97 1484.17 1040.4C1485 1041.82 1485.41 1043.49 1485.41 1045.41C1485.41 1047.34 1484.99 1049.01 1484.16 1050.4C1483.33 1051.78 1482.12 1052.84 1480.54 1053.58C1478.96 1054.32 1477.06 1054.69 1474.83 1054.69H1467.14V1049.74H1473.83C1475.01 1049.74 1475.98 1049.58 1476.76 1049.26C1477.53 1048.94 1478.11 1048.46 1478.49 1047.81C1478.88 1047.17 1479.07 1046.37 1479.07 1045.41C1479.07 1044.45 1478.88 1043.63 1478.49 1042.97C1478.11 1042.31 1477.53 1041.8 1476.74 1041.46C1475.97 1041.11 1474.99 1040.94 1473.8 1040.94H1469.66V1065H1463.5ZM1479.22 1051.76L1486.45 1065H1479.66L1472.58 1051.76H1479.22ZM1489.75 1065V1035.91H1509.36V1040.98H1495.91V1047.91H1508.35V1052.98H1495.91V1059.93H1509.41V1065H1489.75ZM1519.26 1065H1512.67L1522.71 1035.91H1530.64L1540.67 1065H1534.08L1526.79 1042.56H1526.56L1519.26 1065ZM1518.85 1053.57H1534.42V1058.37H1518.85V1053.57Z" fill="black"/>
                <rect x="174" y="592" width="185" height="84" fill="#B80000"/>
                <path d="M212.528 655V625.909H224.176C226.316 625.909 228.101 626.226 229.531 626.861C230.961 627.495 232.036 628.376 232.756 629.503C233.475 630.62 233.835 631.908 233.835 633.366C233.835 634.503 233.608 635.502 233.153 636.364C232.699 637.216 232.074 637.917 231.278 638.466C230.492 639.006 229.593 639.389 228.58 639.616V639.901C229.688 639.948 230.724 640.26 231.69 640.838C232.666 641.416 233.456 642.225 234.062 643.267C234.669 644.299 234.972 645.53 234.972 646.96C234.972 648.504 234.588 649.882 233.821 651.094C233.063 652.296 231.941 653.248 230.455 653.949C228.968 654.65 227.135 655 224.957 655H212.528ZM218.679 649.972H223.693C225.407 649.972 226.657 649.645 227.443 648.991C228.229 648.329 228.622 647.448 228.622 646.349C228.622 645.545 228.428 644.834 228.04 644.219C227.652 643.603 227.098 643.12 226.378 642.77C225.668 642.42 224.82 642.244 223.835 642.244H218.679V649.972ZM218.679 638.082H223.239C224.081 638.082 224.83 637.936 225.483 637.642C226.146 637.339 226.667 636.913 227.045 636.364C227.434 635.814 227.628 635.156 227.628 634.389C227.628 633.338 227.254 632.491 226.506 631.847C225.767 631.203 224.716 630.881 223.352 630.881H218.679V638.082ZM243.988 655H237.397L247.44 625.909H255.366L265.394 655H258.803L251.516 632.557H251.289L243.988 655ZM243.576 643.565H259.144V648.366H243.576V643.565ZM268.896 655V625.909H280.373C282.57 625.909 284.445 626.302 285.998 627.088C287.56 627.865 288.749 628.968 289.563 630.398C290.387 631.818 290.799 633.49 290.799 635.412C290.799 637.344 290.382 639.006 289.549 640.398C288.716 641.78 287.508 642.841 285.927 643.58C284.355 644.318 282.451 644.688 280.217 644.688H272.532V639.744H279.222C280.397 639.744 281.372 639.583 282.148 639.261C282.925 638.939 283.503 638.456 283.881 637.812C284.27 637.169 284.464 636.368 284.464 635.412C284.464 634.446 284.27 633.632 283.881 632.969C283.503 632.306 282.92 631.804 282.134 631.463C281.358 631.113 280.378 630.938 279.194 630.938H275.046V655H268.896ZM284.606 641.761L291.836 655H285.046L277.972 641.761H284.606ZM319.478 625.909V655H314.165L301.509 636.69H301.296V655H295.146V625.909H300.543L313.1 644.205H313.356V625.909H319.478Z" fill="black"/>
                <line x1="0.989688" y1="82.5162" x2="1662.99" y2="80.5" stroke="#D9D9D9" stroke-width="17"/>
                <line x1="119.941" y1="442.5" x2="1716.94" y2="431.5" stroke="#D9D9D9" stroke-width="17"/>
                <line x1="109.488" y1="88.5545" x2="128.488" y2="450.555" stroke="#D9D9D9" stroke-width="17"/>
                <line x1="445.484" y1="89.5185" x2="423.484" y2="449.518" stroke="#D9D9D9" stroke-width="17"/>
                <line x1="367.463" y1="0.788629" x2="326.463" y2="440.789" stroke="#D9D9D9" stroke-width="17"/>
                <line x1="272.483" y1="89.5317" x2="250.483" y2="440.532" stroke="#D9D9D9" stroke-width="17"/>
                <line x1="190.498" y1="91.192" x2="182.498" y2="445.192" stroke="#D9D9D9" stroke-width="17"/>
            </svg>

            
        </div>

        <script>
            // TODO
            // 1. Create SVG landmarks as baseline for map
            // 2. Add scale up / scale down functionality
            // 3. Have container automatically resize to support mobile/desktop
            // 4. Add hover functionality for booths
            // 5. Display booth numbers over top of booths
            // 6. Make async JS API cal when booth is clicked
                // 6a. Allow selection of multiple booths
                // 6b. Have "submit" button to send array of booth selections
            // 7. Support "selected", "hovered", "prime", "standard", "unreservable" states





            // 0 to 810
            const booths = []

            /**
             * @param {number} number   - unique booth number (id)
             * @param {string} category - 'prime', 'standard', 'unreservable'
             */ 
            function _addBooth(number, category, x, y) {
                booths.push({ number, category, x, y });
            }

            for(let i = 0; i < 10; i++) {
                const y = 20 + (i * 20);

                _addBooth(i, 'prime', 10, y);
            }

            //
            function _drawBooth(boothNumber, x, y) {
                const boothSize = 15;
                const svgReference = document.querySelector('svg');
                const boothRect = document.createElementNS("http://www.w3.org/2000/svg", 'rect');

                boothRect.setAttribute('data-booth-number', boothNumber);
                boothRect.setAttribute('x', x);
                boothRect.setAttribute('y', y);
                boothRect.setAttribute('width', boothSize);
                boothRect.setAttribute('height', boothSize);
                boothRect.setAttribute('fill', 'red');
                boothRect.setAttribute('stroke', '#333333');
                boothRect.setAttribute('stroke-width', '2');

                // <rect x="2" y="2" width="400" height="100" fill= "url(#Gradient1)" stroke="#333333" stroke-width="4px" />

                svgReference.appendChild(boothRect)
            }

            for(let i = 0; i < booths.length; i++) {
                const { number, category, x, y } = booths[i];

                _drawBooth(number, x, y);
            }

            document.addEventListener('click', function (event) {
                // Exit early if not a booth
                if (!event.target.matches('[data-booth-number]')) return;

                const boothNumber = event.target.dataset.boothNumber;

                console.log(`YOU JUST CLICKED: ${boothNumber}`);
            });

            console.log(booths);

            // ~~~~~~~~~~~~~~~~~~~~~
            // We select the SVG into the page
            const svgReference = document.querySelector('svg');

            // If browser supports pointer events
            if (window.PointerEvent) {
                svgReference.addEventListener('pointerdown', onPointerDown); // Pointer is pressed
                svgReference.addEventListener('pointerup', onPointerUp); // Releasing the pointer
                svgReference.addEventListener('pointerleave', onPointerUp); // Pointer gets out of the SVG area
                svgReference.addEventListener('pointermove', onPointerMove); // Pointer is moving
            } else {
                // Add all mouse events listeners fallback
                svgReference.addEventListener('mousedown', onPointerDown); // Pressing the mouse
                svgReference.addEventListener('mouseup', onPointerUp); // Releasing the mouse
                svgReference.addEventListener('mouseleave', onPointerUp); // Mouse gets out of the SVG area
                svgReference.addEventListener('mousemove', onPointerMove); // Mouse is moving

                // Add all touch events listeners fallback
                svgReference.addEventListener('touchstart', onPointerDown); // Finger is touching the screen
                svgReference.addEventListener('touchend', onPointerUp); // Finger is no longer touching the screen
                svgReference.addEventListener('touchmove', onPointerMove); // Finger is moving
            }

            // Create an SVG point that contains x & y values
            const point = svgReference.createSVGPoint();

            // This function returns an object with X & Y values from the pointer event
            function getPointFromEvent (event) {
                // If even is triggered by a touch event, we get the position of the first finger
                if (event.targetTouches) {
                    point.x = event.targetTouches[0].clientX;
                    point.y = event.targetTouches[0].clientY;
                } else {
                    point.x = event.clientX;
                    point.y = event.clientY;
                }
                
                // We get the current transformation matrix of the SVG and we inverse it
                var invertedSVGMatrix = svgReference.getScreenCTM().inverse();
                
                return point.matrixTransform(invertedSVGMatrix);
            }

            // This variable will be used later for move events to check if pointer is down or not
            let isPointerDown = false;

            // This variable will contain the original coordinates when the user start pressing the mouse or touching the screen
            let pointerOrigin;

            // Function called by the event listeners when user start pressing/touching
            function onPointerDown(event) {
                isPointerDown = true; // We set the pointer as down
                
                // We get the pointer position on click/touchdown so we can get the value once the user starts to drag
                pointerOrigin = getPointFromEvent(event);
            }

            // We save the original values from the viewBox
            const viewBox = svgReference.viewBox.baseVal;

            // Function called by the event listeners when user start moving/dragging
            function onPointerMove (event) {
                // Only run this function if the pointer is down
                if (!isPointerDown) {
                    return;
                }
                // This prevent user to do a selection on the page
                event.preventDefault();

                // Get the pointer position as an SVG Point
                var pointerPosition = getPointFromEvent(event);

                // Update the viewBox variable with the distance from origin and current position
                // We don't need to take care of a ratio because this is handled in the getPointFromEvent function
                viewBox.x -= (pointerPosition.x - pointerOrigin.x);
                viewBox.y -= (pointerPosition.y - pointerOrigin.y);
            }

            function onPointerUp() {
                // The pointer is no longer considered as down
                isPointerDown = false;
            }
        </script>
    </body>
</html>